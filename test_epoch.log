2025-08-26 00:34:38,410 - __main__ - INFO - Running single test: single_epoch
2025-08-26 00:34:38,410 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 00:34:38,410 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 00:34:41,518 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 00:34:41,518 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x73bad44e8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x73bad44e84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 00:34:41,518 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 00:34:41,519 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 00:34:41,545 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 00:34:41,545 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 00:34:41,547 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 00:34:41,722 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 00:34:41,727 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 00:34:41,856 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 00:34:41,860 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 00:34:41,989 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 00:34:41,994 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 00:34:42,122 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 00:34:42,127 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 00:34:42,256 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 00:34:42,260 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 00:34:42,388 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 00:34:42,393 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 00:34:42,522 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 00:34:42,650 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 00:34:42,655 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 00:34:42,950 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 00:34:42,955 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 00:34:43,083 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 00:34:43,227 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 00:34:43,231 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 00:34:43,355 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 00:34:43,531 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 00:34:43,531 - __main__ - INFO - ==================================================
2025-08-26 00:34:43,531 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 00:34:43,531 - __main__ - INFO - ==================================================
2025-08-26 00:34:43,532 - __main__ - INFO - Running epoch with parameters:
2025-08-26 00:34:43,532 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 00:34:43,532 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 00:34:43,532 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 00:34:43,532 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 00:34:43,532 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 00:34:43,532 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 00:34:43,655 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 00:34:43,660 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 00:34:43,664 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 00:34:43,664 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 00:34:43,665 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 00:34:43,665 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 00:34:43,665 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 00:34:43,665 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 00:34:43,682 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 00:34:43,682 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 00:34:43,682 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Values changed for Age: [68. 13. 77. 30. 86.] -> [69. 14. 78. 31. 87.]
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 00:34:43,682 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 00:34:43,683 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 00:34:43,683 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 00:34:43,683 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [0.39988656 0.35501153 0.21780348 0.00479672 0.70425669] -> [0.75819521 0.71332017 0.57611213 0.36310537 1.        ]
2025-08-26 00:34:43,683 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 00:34:43,698 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 00:34:43,698 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 00:34:43,698 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 00:34:43,698 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 00:34:43,736 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 00:34:43,736 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 00:34:43,736 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 00:34:43,751 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 00:34:43,756 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 00:34:43,761 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 00:34:43,766 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 00:34:43,771 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 00:34:43,776 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 00:34:43,781 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 00:34:43,786 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 00:34:43,791 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 00:34:43,796 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 00:34:43,801 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 00:34:43,801 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 00:34:43,801 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 00:34:43,801 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 00:34:43,801 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 00:34:43,801 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=65, listeners=[71, 62, 64])
2025-08-26 00:34:43,802 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=64, listeners=[65, 67, 68])
2025-08-26 00:34:43,802 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=70, listeners=[68, 69, 63])
2025-08-26 00:34:43,802 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=63, listeners=[67, 62, 68])
2025-08-26 00:34:43,802 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 00:34:43,802 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 00:34:43,802 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=65, listeners=[71, 62, 64])
2025-08-26 00:34:43,802 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=65, listeners=[71, 62, 64])
2025-08-26 00:34:43,802 - mythologizer_core.epoch - DEBUG - Speaker 65 values shape: (3,)
2025-08-26 00:34:43,802 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 00:34:43,802 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 65 to listener 71
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 65 -> listener 71
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 00:34:43,802 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 00:34:43,803 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 65
2025-08-26 00:34:43,804 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 65 has 3 myths
2025-08-26 00:34:43,824 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:43,824 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 71
2025-08-26 00:34:43,826 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 71 has 3 myths
2025-08-26 00:34:43,841 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:43,841 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 00:34:43,842 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [26, 6, 2]
2025-08-26 00:34:43,842 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [4, 27, 16]
2025-08-26 00:34:43,842 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 00:34:43,842 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 00:34:43,842 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 00:34:43,842 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 00:34:43,858 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 26 with retention: 0.5114846266787051
2025-08-26 00:34:43,858 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 00:34:43,858 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 00:34:43,870 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [71, np.int64(65)]
2025-08-26 00:34:43,871 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 65 to listener 71: 'str' object has no attribute 'items'
2025-08-26 00:34:43,871 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=65, listeners=[71, 62, 64]): Failed to tell myth from speaker 65 to listener 71: 'str' object has no attribute 'items'
2025-08-26 00:34:43,871 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=65, listeners=[71, 62, 64]): Failed to tell myth from speaker 65 to listener 71: 'str' object has no attribute 'items'
2025-08-26 00:34:43,871 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=64, listeners=[65, 67, 68])
2025-08-26 00:34:43,871 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=64, listeners=[65, 67, 68])
2025-08-26 00:34:43,871 - mythologizer_core.epoch - DEBUG - Speaker 64 values shape: (3,)
2025-08-26 00:34:43,871 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 00:34:43,871 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 64 to listener 65
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 64 -> listener 65
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 00:34:43,871 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 00:34:43,872 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 00:34:43,888 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:43,889 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 65
2025-08-26 00:34:43,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 65 has 3 myths
2025-08-26 00:34:43,905 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:43,905 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 00:34:43,905 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [1, 12, 9]
2025-08-26 00:34:43,905 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [26, 6, 2]
2025-08-26 00:34:43,905 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 00:34:43,906 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 00:34:43,906 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 00:34:43,906 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 00:34:43,920 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 1 with retention: 0.4953871224039522
2025-08-26 00:34:43,920 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 00:34:43,920 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 00:34:43,932 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [65, np.int64(64)]
2025-08-26 00:34:43,933 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 64 to listener 65: 'str' object has no attribute 'items'
2025-08-26 00:34:43,933 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=64, listeners=[65, 67, 68]): Failed to tell myth from speaker 64 to listener 65: 'str' object has no attribute 'items'
2025-08-26 00:34:43,933 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=64, listeners=[65, 67, 68]): Failed to tell myth from speaker 64 to listener 65: 'str' object has no attribute 'items'
2025-08-26 00:34:43,933 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=70, listeners=[68, 69, 63])
2025-08-26 00:34:43,933 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=70, listeners=[68, 69, 63])
2025-08-26 00:34:43,933 - mythologizer_core.epoch - DEBUG - Speaker 70 values shape: (3,)
2025-08-26 00:34:43,933 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 00:34:43,933 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 70 to listener 68
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 70 -> listener 68
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 00:34:43,933 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 00:34:43,934 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 00:34:43,935 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 00:34:43,950 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:43,950 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 68
2025-08-26 00:34:43,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 68 has 3 myths
2025-08-26 00:34:43,966 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:43,966 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 00:34:43,966 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [3, 20, 15]
2025-08-26 00:34:43,966 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [10, 14, 8]
2025-08-26 00:34:43,966 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 00:34:43,966 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 00:34:43,966 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 00:34:43,967 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 00:34:43,982 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 3 with retention: 0.5179131991924327
2025-08-26 00:34:43,982 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 00:34:43,982 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 00:34:43,994 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [68, np.int64(70)]
2025-08-26 00:34:43,994 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 70 to listener 68: 'str' object has no attribute 'items'
2025-08-26 00:34:43,994 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=70, listeners=[68, 69, 63]): Failed to tell myth from speaker 70 to listener 68: 'str' object has no attribute 'items'
2025-08-26 00:34:43,994 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=70, listeners=[68, 69, 63]): Failed to tell myth from speaker 70 to listener 68: 'str' object has no attribute 'items'
2025-08-26 00:34:43,994 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=63, listeners=[67, 62, 68])
2025-08-26 00:34:43,995 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=63, listeners=[67, 62, 68])
2025-08-26 00:34:43,995 - mythologizer_core.epoch - DEBUG - Speaker 63 values shape: (3,)
2025-08-26 00:34:43,995 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 00:34:43,995 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 63 to listener 67
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 63 -> listener 67
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 00:34:43,995 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 63
2025-08-26 00:34:43,996 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 63 has 3 myths
2025-08-26 00:34:44,012 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:44,012 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 67
2025-08-26 00:34:44,013 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 67 has 3 myths
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [19, 17, 13]
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [25, 29, 23]
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 00:34:44,028 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 00:34:44,043 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 19 with retention: 0.6212787283749089
2025-08-26 00:34:44,043 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 00:34:44,043 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 00:34:44,055 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [67, np.int64(63)]
2025-08-26 00:34:44,055 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 63 to listener 67: 'str' object has no attribute 'items'
2025-08-26 00:34:44,055 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=63, listeners=[67, 62, 68]): Failed to tell myth from speaker 63 to listener 67: 'str' object has no attribute 'items'
2025-08-26 00:34:44,055 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=63, listeners=[67, 62, 68]): Failed to tell myth from speaker 63 to listener 67: 'str' object has no attribute 'items'
2025-08-26 00:34:44,055 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 00:34:44,055 - __main__ - INFO - Epoch completed successfully!
2025-08-26 00:34:44,056 - __main__ - INFO - Test 'single_epoch' completed successfully!
2025-08-26 17:02:52,822 - __main__ - INFO - Running single test: single_epoch
2025-08-26 17:02:52,822 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 17:02:52,822 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 17:02:55,895 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 17:02:55,895 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x70b70eee8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x70b70eee84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 17:02:55,895 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 17:02:55,895 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 17:02:55,921 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 17:02:55,921 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 17:02:55,922 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 17:02:56,088 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:02:56,097 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:02:56,229 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:02:56,235 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:02:56,363 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:02:56,369 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:02:56,490 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 17:02:56,495 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 17:02:56,624 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:02:56,628 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:02:56,758 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 17:02:56,763 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 17:02:56,887 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 17:02:57,016 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 17:02:57,021 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 17:02:57,187 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 17:02:57,196 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 17:02:57,317 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 17:02:57,462 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 17:02:57,467 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 17:02:57,585 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 17:02:57,756 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 17:02:57,756 - __main__ - INFO - ==================================================
2025-08-26 17:02:57,756 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 17:02:57,756 - __main__ - INFO - ==================================================
2025-08-26 17:02:57,762 - __main__ - INFO - Running epoch with parameters:
2025-08-26 17:02:57,762 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 17:02:57,762 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 17:02:57,762 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 17:02:57,762 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 17:02:57,762 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 17:02:57,762 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 17:02:57,890 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 17:02:57,895 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 17:02:57,899 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 17:02:57,900 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 17:02:57,900 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 17:02:57,900 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 17:02:57,900 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 17:02:57,900 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 17:02:57,916 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 17:02:57,916 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 17:02:57,916 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 17:02:57,916 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 17:02:57,916 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 17:02:57,916 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 17:02:57,916 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 17:02:57,916 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 17:02:57,917 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 17:02:57,917 - mythologizer_core.epoch - DEBUG - Values changed for Age: [69. 14. 78. 31. 87.] -> [70. 15. 79. 32. 88.]
2025-08-26 17:02:57,917 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 17:02:57,917 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 17:02:57,917 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 17:02:57,917 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 17:02:57,917 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 17:02:57,917 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [0.75819521 0.71332017 0.57611213 0.36310537 1.        ] -> [1. 1. 1. 1. 1.]
2025-08-26 17:02:57,917 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 17:02:57,933 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 17:02:57,933 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 17:02:57,933 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 17:02:57,933 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 17:02:57,972 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 17:02:57,972 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 17:02:57,972 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 17:02:57,987 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 17:02:57,992 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 17:02:57,997 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 17:02:58,001 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 17:02:58,006 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 17:02:58,011 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 17:02:58,016 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 17:02:58,020 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 17:02:58,026 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 17:02:58,030 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 17:02:58,035 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 17:02:58,035 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 17:02:58,035 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 17:02:58,035 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 17:02:58,035 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=67, listeners=[71, 69, 62])
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=63, listeners=[67, 70, 71])
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=64, listeners=[66, 67, 65])
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=69, listeners=[71, 65, 62])
2025-08-26 17:02:58,036 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 17:02:58,036 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 17:02:58,036 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=67, listeners=[71, 69, 62])
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=67, listeners=[71, 69, 62])
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Speaker 67 values shape: (3,)
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:02:58,036 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 67 to listener 71
2025-08-26 17:02:58,036 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 67 -> listener 71
2025-08-26 17:02:58,036 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:02:58,037 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 67
2025-08-26 17:02:58,039 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 67 has 3 myths
2025-08-26 17:02:58,055 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,055 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 71
2025-08-26 17:02:58,056 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 71 has 3 myths
2025-08-26 17:02:58,071 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,071 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:02:58,071 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [25, 29, 23]
2025-08-26 17:02:58,071 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [4, 27, 16]
2025-08-26 17:02:58,071 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:02:58,071 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:02:58,072 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 67 to listener 71: name 'logger' is not defined
2025-08-26 17:02:58,072 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=67, listeners=[71, 69, 62]): Failed to tell myth from speaker 67 to listener 71: name 'logger' is not defined
2025-08-26 17:02:58,072 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=67, listeners=[71, 69, 62]): Failed to tell myth from speaker 67 to listener 71: name 'logger' is not defined
2025-08-26 17:02:58,072 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=63, listeners=[67, 70, 71])
2025-08-26 17:02:58,072 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=63, listeners=[67, 70, 71])
2025-08-26 17:02:58,072 - mythologizer_core.epoch - DEBUG - Speaker 63 values shape: (3,)
2025-08-26 17:02:58,072 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:02:58,072 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 63 to listener 67
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 63 -> listener 67
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:02:58,072 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 63
2025-08-26 17:02:58,074 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 63 has 3 myths
2025-08-26 17:02:58,090 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,090 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 67
2025-08-26 17:02:58,091 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 67 has 3 myths
2025-08-26 17:02:58,106 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,106 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:02:58,106 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [19, 17, 13]
2025-08-26 17:02:58,106 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [25, 29, 23]
2025-08-26 17:02:58,106 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:02:58,106 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:02:58,106 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 63 to listener 67: name 'logger' is not defined
2025-08-26 17:02:58,107 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=63, listeners=[67, 70, 71]): Failed to tell myth from speaker 63 to listener 67: name 'logger' is not defined
2025-08-26 17:02:58,107 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=63, listeners=[67, 70, 71]): Failed to tell myth from speaker 63 to listener 67: name 'logger' is not defined
2025-08-26 17:02:58,107 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=64, listeners=[66, 67, 65])
2025-08-26 17:02:58,107 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=64, listeners=[66, 67, 65])
2025-08-26 17:02:58,107 - mythologizer_core.epoch - DEBUG - Speaker 64 values shape: (3,)
2025-08-26 17:02:58,107 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:02:58,107 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 64 to listener 66
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 64 -> listener 66
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:02:58,107 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:02:58,109 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:02:58,124 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,124 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:02:58,125 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:02:58,140 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,140 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [1, 12, 9]
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [7, 24, 11]
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:02:58,141 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 64 to listener 66: name 'logger' is not defined
2025-08-26 17:02:58,141 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=64, listeners=[66, 67, 65]): Failed to tell myth from speaker 64 to listener 66: name 'logger' is not defined
2025-08-26 17:02:58,141 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=64, listeners=[66, 67, 65]): Failed to tell myth from speaker 64 to listener 66: name 'logger' is not defined
2025-08-26 17:02:58,141 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=69, listeners=[71, 65, 62])
2025-08-26 17:02:58,141 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=69, listeners=[71, 65, 62])
2025-08-26 17:02:58,141 - mythologizer_core.epoch - DEBUG - Speaker 69 values shape: (3,)
2025-08-26 17:02:58,141 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:02:58,141 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 69 to listener 71
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 69 -> listener 71
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:02:58,141 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:02:58,142 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:02:58,142 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:02:58,142 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:02:58,142 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:02:58,142 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:02:58,142 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:02:58,142 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 69
2025-08-26 17:02:58,143 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 69 has 3 myths
2025-08-26 17:02:58,158 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,158 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 71
2025-08-26 17:02:58,159 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 71 has 3 myths
2025-08-26 17:02:58,174 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:02:58,174 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:02:58,174 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [5, 22, 30]
2025-08-26 17:02:58,174 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [4, 27, 16]
2025-08-26 17:02:58,174 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:02:58,174 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:02:58,174 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 69 to listener 71: name 'logger' is not defined
2025-08-26 17:02:58,174 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=69, listeners=[71, 65, 62]): Failed to tell myth from speaker 69 to listener 71: name 'logger' is not defined
2025-08-26 17:02:58,174 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=69, listeners=[71, 65, 62]): Failed to tell myth from speaker 69 to listener 71: name 'logger' is not defined
2025-08-26 17:02:58,174 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 17:02:58,175 - __main__ - INFO - Epoch completed successfully!
2025-08-26 17:02:58,175 - __main__ - INFO - Test 'single_epoch' completed successfully!
2025-08-26 17:03:39,143 - __main__ - INFO - Running single test: single_epoch
2025-08-26 17:03:39,143 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 17:03:39,143 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 17:03:42,210 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 17:03:42,211 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x7a1de8ce8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x7a1de8ce84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 17:03:42,211 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 17:03:42,211 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 17:03:42,237 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 17:03:42,238 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 17:03:42,239 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 17:03:43,480 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:03:43,485 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:03:43,601 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:03:43,605 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:03:43,734 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:03:43,739 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:03:43,867 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 17:03:43,873 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 17:03:44,001 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:03:44,006 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:03:44,135 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 17:03:44,140 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 17:03:44,269 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 17:03:44,708 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 17:03:44,714 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 17:03:44,914 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 17:03:44,919 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 17:03:45,048 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 17:03:45,198 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 17:03:45,202 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 17:03:45,321 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 17:03:45,489 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 17:03:45,489 - __main__ - INFO - ==================================================
2025-08-26 17:03:45,489 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 17:03:45,489 - __main__ - INFO - ==================================================
2025-08-26 17:03:45,493 - __main__ - INFO - Running epoch with parameters:
2025-08-26 17:03:45,493 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 17:03:45,493 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 17:03:45,493 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 17:03:45,493 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 17:03:45,493 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 17:03:45,493 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 17:03:45,617 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 17:03:45,622 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 17:03:45,627 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 17:03:45,627 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 17:03:45,627 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 17:03:45,627 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 17:03:45,627 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 17:03:45,627 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 17:03:45,643 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 17:03:45,643 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 17:03:45,643 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 17:03:45,643 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 17:03:45,643 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 17:03:45,643 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 17:03:45,643 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 17:03:45,643 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 17:03:45,643 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 17:03:45,644 - mythologizer_core.epoch - DEBUG - Values changed for Age: [70. 15. 79. 32. 88.] -> [71. 16. 80. 33. 89.]
2025-08-26 17:03:45,644 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 17:03:45,644 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 17:03:45,644 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 17:03:45,644 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 17:03:45,644 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 17:03:45,644 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [1. 1. 1. 1. 1.] -> [1. 1. 1. 1. 1.]
2025-08-26 17:03:45,644 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 17:03:45,659 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 17:03:45,659 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 17:03:45,659 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 17:03:45,659 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 17:03:45,697 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 17:03:45,697 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 17:03:45,697 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 17:03:45,712 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 17:03:45,717 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 17:03:45,722 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 17:03:45,726 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 17:03:45,731 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 17:03:45,736 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 17:03:45,741 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 17:03:45,746 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 17:03:45,750 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 17:03:45,755 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 17:03:45,760 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 17:03:45,760 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 17:03:45,760 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 17:03:45,760 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 17:03:45,760 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 17:03:45,760 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=70, listeners=[69, 63, 66])
2025-08-26 17:03:45,761 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=69, listeners=[68, 64, 71])
2025-08-26 17:03:45,761 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=68, listeners=[64, 65, 70])
2025-08-26 17:03:45,761 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=70, listeners=[65, 67, 71])
2025-08-26 17:03:45,761 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 17:03:45,761 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 17:03:45,761 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=70, listeners=[69, 63, 66])
2025-08-26 17:03:45,761 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=70, listeners=[69, 63, 66])
2025-08-26 17:03:45,761 - mythologizer_core.epoch - DEBUG - Speaker 70 values shape: (3,)
2025-08-26 17:03:45,761 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:03:45,761 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 70 to listener 69
2025-08-26 17:03:45,761 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 70 -> listener 69
2025-08-26 17:03:45,761 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:03:45,761 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:03:45,762 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:03:45,764 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:03:45,781 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,781 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 69
2025-08-26 17:03:45,782 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 69 has 3 myths
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [3, 20, 15]
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [5, 22, 30]
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 1 (raw value 2) with probabilities: [0.34972111 0.32544965 0.32482924]
2025-08-26 17:03:45,798 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 1 using sample function
2025-08-26 17:03:45,799 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 1
2025-08-26 17:03:45,815 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 20 with retention: 0.23259301052355008
2025-08-26 17:03:45,815 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 4 mythemes
2025-08-26 17:03:45,815 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [69, np.int64(70)]
2025-08-26 17:03:45,828 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 70 to listener 69: 'str' object has no attribute 'items'
2025-08-26 17:03:45,828 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=70, listeners=[69, 63, 66]): Failed to tell myth from speaker 70 to listener 69: 'str' object has no attribute 'items'
2025-08-26 17:03:45,828 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=70, listeners=[69, 63, 66]): Failed to tell myth from speaker 70 to listener 69: 'str' object has no attribute 'items'
2025-08-26 17:03:45,828 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=69, listeners=[68, 64, 71])
2025-08-26 17:03:45,828 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=69, listeners=[68, 64, 71])
2025-08-26 17:03:45,828 - mythologizer_core.epoch - DEBUG - Speaker 69 values shape: (3,)
2025-08-26 17:03:45,828 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:03:45,828 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 69 to listener 68
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 69 -> listener 68
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:03:45,828 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 69
2025-08-26 17:03:45,830 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 69 has 3 myths
2025-08-26 17:03:45,845 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,845 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 68
2025-08-26 17:03:45,846 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 68 has 3 myths
2025-08-26 17:03:45,861 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,861 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:03:45,861 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [5, 22, 30]
2025-08-26 17:03:45,861 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [10, 14, 8]
2025-08-26 17:03:45,861 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:03:45,862 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:03:45,862 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.34972111 0.32544965 0.32482924]
2025-08-26 17:03:45,862 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:03:45,862 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:03:45,877 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 5 with retention: 0.9378316105323483
2025-08-26 17:03:45,877 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:03:45,877 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:03:45,889 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [68, np.int64(69)]
2025-08-26 17:03:45,889 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 69 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:03:45,889 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=69, listeners=[68, 64, 71]): Failed to tell myth from speaker 69 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:03:45,889 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=69, listeners=[68, 64, 71]): Failed to tell myth from speaker 69 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:03:45,889 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=68, listeners=[64, 65, 70])
2025-08-26 17:03:45,889 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=68, listeners=[64, 65, 70])
2025-08-26 17:03:45,889 - mythologizer_core.epoch - DEBUG - Speaker 68 values shape: (3,)
2025-08-26 17:03:45,890 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:03:45,890 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 68 to listener 64
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 68 -> listener 64
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:03:45,890 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 68
2025-08-26 17:03:45,891 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 68 has 3 myths
2025-08-26 17:03:45,906 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,906 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:03:45,907 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:03:45,922 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,922 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:03:45,922 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [10, 14, 8]
2025-08-26 17:03:45,922 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [1, 12, 9]
2025-08-26 17:03:45,922 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:03:45,923 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:03:45,923 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.34972111 0.32544965 0.32482924]
2025-08-26 17:03:45,923 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:03:45,923 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:03:45,938 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 8 with retention: 0.24949600192062163
2025-08-26 17:03:45,938 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:03:45,938 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:03:45,950 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [64, np.int64(68)]
2025-08-26 17:03:45,950 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 68 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:03:45,950 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=68, listeners=[64, 65, 70]): Failed to tell myth from speaker 68 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:03:45,951 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=68, listeners=[64, 65, 70]): Failed to tell myth from speaker 68 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:03:45,951 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=70, listeners=[65, 67, 71])
2025-08-26 17:03:45,951 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=70, listeners=[65, 67, 71])
2025-08-26 17:03:45,951 - mythologizer_core.epoch - DEBUG - Speaker 70 values shape: (3,)
2025-08-26 17:03:45,951 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:03:45,951 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 70 to listener 65
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 70 -> listener 65
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:03:45,951 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:03:45,952 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:03:45,967 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,968 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 65
2025-08-26 17:03:45,969 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 65 has 3 myths
2025-08-26 17:03:45,984 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:03:45,984 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:03:45,984 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [3, 20, 15]
2025-08-26 17:03:45,984 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [26, 6, 2]
2025-08-26 17:03:45,984 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:03:45,984 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:03:45,984 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.34972111 0.32544965 0.32482924]
2025-08-26 17:03:45,985 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:03:45,985 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:03:45,999 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 15 with retention: 0.9330278887616212
2025-08-26 17:03:45,999 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:03:45,999 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:03:46,012 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [65, np.int64(70)]
2025-08-26 17:03:46,012 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 70 to listener 65: 'str' object has no attribute 'items'
2025-08-26 17:03:46,012 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=70, listeners=[65, 67, 71]): Failed to tell myth from speaker 70 to listener 65: 'str' object has no attribute 'items'
2025-08-26 17:03:46,013 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=70, listeners=[65, 67, 71]): Failed to tell myth from speaker 70 to listener 65: 'str' object has no attribute 'items'
2025-08-26 17:03:46,013 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 17:03:46,013 - __main__ - INFO - Epoch completed successfully!
2025-08-26 17:03:46,013 - __main__ - INFO - Test 'single_epoch' completed successfully!
2025-08-26 17:04:25,087 - __main__ - INFO - Running single test: single_epoch
2025-08-26 17:04:25,087 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 17:04:25,087 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 17:04:28,141 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 17:04:28,141 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x70312f8e8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x70312f8e84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 17:04:28,141 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 17:04:28,141 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 17:04:28,167 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 17:04:28,168 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 17:04:28,169 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 17:04:28,336 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:28,342 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:28,467 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:28,472 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:28,602 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:28,607 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:28,736 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 17:04:28,741 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 17:04:28,869 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:28,875 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:28,991 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 17:04:28,996 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 17:04:29,124 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 17:04:29,240 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 17:04:29,245 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 17:04:29,408 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 17:04:29,413 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 17:04:29,534 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 17:04:29,677 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 17:04:29,682 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 17:04:29,800 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 17:04:29,975 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 17:04:29,975 - __main__ - INFO - ==================================================
2025-08-26 17:04:29,975 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 17:04:29,976 - __main__ - INFO - ==================================================
2025-08-26 17:04:29,979 - __main__ - INFO - Running epoch with parameters:
2025-08-26 17:04:29,979 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 17:04:29,979 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 17:04:29,979 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 17:04:29,979 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 17:04:29,979 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 17:04:29,979 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 17:04:30,102 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 17:04:30,108 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 17:04:30,113 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 17:04:30,113 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 17:04:30,113 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 17:04:30,113 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 17:04:30,113 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 17:04:30,113 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 17:04:30,129 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 17:04:30,129 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 17:04:30,129 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 17:04:30,129 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 17:04:30,129 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 17:04:30,129 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 17:04:30,129 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 17:04:30,130 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Values changed for Age: [71. 16. 80. 33. 89.] -> [72. 17. 81. 34. 90.]
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 17:04:30,130 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [1. 1. 1. 1. 1.] -> [1. 1. 1. 1. 1.]
2025-08-26 17:04:30,130 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 17:04:30,146 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 17:04:30,146 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 17:04:30,146 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 17:04:30,146 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 17:04:30,184 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 17:04:30,184 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 17:04:30,184 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 17:04:30,199 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 17:04:30,204 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 17:04:30,209 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 17:04:30,214 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 17:04:30,218 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 17:04:30,223 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 17:04:30,228 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 17:04:30,233 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 17:04:30,237 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 17:04:30,242 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 17:04:30,247 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 17:04:30,247 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 17:04:30,247 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=67, listeners=[64, 69, 66])
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=64, listeners=[66, 65, 68])
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=67, listeners=[64, 65, 68])
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=65, listeners=[70, 68, 62])
2025-08-26 17:04:30,247 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 17:04:30,247 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 17:04:30,247 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=67, listeners=[64, 69, 66])
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=67, listeners=[64, 69, 66])
2025-08-26 17:04:30,247 - mythologizer_core.epoch - DEBUG - Speaker 67 values shape: (3,)
2025-08-26 17:04:30,248 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:30,248 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 67 to listener 64
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 67 -> listener 64
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:30,248 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 67
2025-08-26 17:04:30,250 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 67 has 3 myths
2025-08-26 17:04:30,266 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,266 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:04:30,267 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [25, 29, 23]
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [1, 12, 9]
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:04:30,283 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:04:30,299 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 23 with retention: 0.8924430273028247
2025-08-26 17:04:30,299 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:04:30,299 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:30,311 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [64, np.int64(67)]
2025-08-26 17:04:30,311 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 67 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:04:30,311 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=67, listeners=[64, 69, 66]): Failed to tell myth from speaker 67 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:04:30,311 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=67, listeners=[64, 69, 66]): Failed to tell myth from speaker 67 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:04:30,311 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=64, listeners=[66, 65, 68])
2025-08-26 17:04:30,311 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=64, listeners=[66, 65, 68])
2025-08-26 17:04:30,311 - mythologizer_core.epoch - DEBUG - Speaker 64 values shape: (3,)
2025-08-26 17:04:30,311 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:30,311 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 64 to listener 66
2025-08-26 17:04:30,311 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 64 -> listener 66
2025-08-26 17:04:30,311 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:30,312 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:04:30,313 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:04:30,328 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,328 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:04:30,329 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [1, 12, 9]
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [7, 24, 11]
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 1 (raw value 2) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 1 using sample function
2025-08-26 17:04:30,345 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 1
2025-08-26 17:04:30,360 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 12 with retention: 0.13219274862476055
2025-08-26 17:04:30,360 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:04:30,360 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [66, np.int64(64)]
2025-08-26 17:04:30,373 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 64 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:30,373 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=64, listeners=[66, 65, 68]): Failed to tell myth from speaker 64 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:30,373 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=64, listeners=[66, 65, 68]): Failed to tell myth from speaker 64 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:30,373 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=67, listeners=[64, 65, 68])
2025-08-26 17:04:30,373 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=67, listeners=[64, 65, 68])
2025-08-26 17:04:30,373 - mythologizer_core.epoch - DEBUG - Speaker 67 values shape: (3,)
2025-08-26 17:04:30,373 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:30,373 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 67 to listener 64
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 67 -> listener 64
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:30,373 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:30,374 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:30,374 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:30,374 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:30,374 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:30,374 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 67
2025-08-26 17:04:30,375 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 67 has 3 myths
2025-08-26 17:04:30,390 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,390 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:04:30,391 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [25, 29, 23]
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [1, 12, 9]
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 1 (raw value 2) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 1 using sample function
2025-08-26 17:04:30,406 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 1
2025-08-26 17:04:30,421 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 29 with retention: 0.2876396050190445
2025-08-26 17:04:30,421 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:04:30,421 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:30,433 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [64, np.int64(67)]
2025-08-26 17:04:30,433 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 67 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:04:30,433 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=67, listeners=[64, 65, 68]): Failed to tell myth from speaker 67 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:04:30,433 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=67, listeners=[64, 65, 68]): Failed to tell myth from speaker 67 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:04:30,433 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=65, listeners=[70, 68, 62])
2025-08-26 17:04:30,434 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=65, listeners=[70, 68, 62])
2025-08-26 17:04:30,434 - mythologizer_core.epoch - DEBUG - Speaker 65 values shape: (3,)
2025-08-26 17:04:30,434 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:30,434 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 65 to listener 70
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 65 -> listener 70
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:30,434 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 65
2025-08-26 17:04:30,435 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 65 has 3 myths
2025-08-26 17:04:30,451 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,451 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:04:30,452 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:04:30,467 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [26, 6, 2]
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [3, 20, 15]
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 1 (raw value 2) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 1 using sample function
2025-08-26 17:04:30,468 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 1
2025-08-26 17:04:30,483 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 6 with retention: 0.3027896904258326
2025-08-26 17:04:30,483 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 4 mythemes
2025-08-26 17:04:30,483 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:30,497 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [70, np.int64(65)]
2025-08-26 17:04:30,497 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 65 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:30,497 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=65, listeners=[70, 68, 62]): Failed to tell myth from speaker 65 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:30,497 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=65, listeners=[70, 68, 62]): Failed to tell myth from speaker 65 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:30,497 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 17:04:30,497 - __main__ - INFO - Epoch completed successfully!
2025-08-26 17:04:30,497 - __main__ - INFO - Test 'single_epoch' completed successfully!
2025-08-26 17:04:35,261 - __main__ - INFO - Running single test: single_epoch
2025-08-26 17:04:35,261 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 17:04:35,261 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 17:04:38,330 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 17:04:38,330 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x7773ea6e8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x7773ea6e84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 17:04:38,330 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 17:04:38,330 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 17:04:38,357 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 17:04:38,357 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 17:04:38,358 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 17:04:38,516 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:38,521 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:38,651 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:38,656 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:38,778 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:38,783 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:38,913 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 17:04:38,918 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 17:04:39,046 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:39,051 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:39,175 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 17:04:39,180 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 17:04:39,327 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 17:04:39,444 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 17:04:39,449 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 17:04:39,614 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 17:04:39,619 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 17:04:39,738 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 17:04:39,901 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 17:04:39,907 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 17:04:40,029 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 17:04:40,205 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 17:04:40,205 - __main__ - INFO - ==================================================
2025-08-26 17:04:40,205 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 17:04:40,205 - __main__ - INFO - ==================================================
2025-08-26 17:04:40,206 - __main__ - INFO - Running epoch with parameters:
2025-08-26 17:04:40,206 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 17:04:40,206 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 17:04:40,206 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 17:04:40,206 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 17:04:40,206 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 17:04:40,206 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 17:04:40,329 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 17:04:40,334 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 17:04:40,339 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 17:04:40,339 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 17:04:40,339 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 17:04:40,339 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 17:04:40,339 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 17:04:40,339 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 17:04:40,356 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 17:04:40,356 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 17:04:40,356 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 17:04:40,356 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 17:04:40,356 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 17:04:40,356 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 17:04:40,356 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 17:04:40,356 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 17:04:40,356 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 17:04:40,357 - mythologizer_core.epoch - DEBUG - Values changed for Age: [72. 17. 81. 34. 90.] -> [73. 18. 82. 35. 91.]
2025-08-26 17:04:40,357 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 17:04:40,357 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 17:04:40,357 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 17:04:40,357 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 17:04:40,357 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 17:04:40,357 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [1. 1. 1. 1. 1.] -> [1. 1. 1. 1. 1.]
2025-08-26 17:04:40,357 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 17:04:40,373 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 17:04:40,374 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 17:04:40,374 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 17:04:40,374 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 17:04:40,412 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 17:04:40,412 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 17:04:40,412 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 17:04:40,427 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 17:04:40,432 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 17:04:40,437 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 17:04:40,442 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 17:04:40,447 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 17:04:40,451 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 17:04:40,456 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 17:04:40,461 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 17:04:40,466 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 17:04:40,470 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 17:04:40,475 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 17:04:40,475 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 17:04:40,475 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 17:04:40,475 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 17:04:40,475 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=64, listeners=[69, 70, 66])
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=64, listeners=[66, 67, 65])
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=63, listeners=[70, 69, 65])
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=69, listeners=[63, 70, 66])
2025-08-26 17:04:40,476 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 17:04:40,476 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 17:04:40,476 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=64, listeners=[69, 70, 66])
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=64, listeners=[69, 70, 66])
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Speaker 64 values shape: (3,)
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:40,476 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 64 to listener 69
2025-08-26 17:04:40,476 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 64 -> listener 69
2025-08-26 17:04:40,476 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:40,476 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:40,476 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:40,477 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:04:40,479 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:04:40,495 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,495 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 69
2025-08-26 17:04:40,496 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 69 has 3 myths
2025-08-26 17:04:40,512 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,512 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:40,512 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [1, 12, 9]
2025-08-26 17:04:40,512 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [5, 22, 30]
2025-08-26 17:04:40,512 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:40,512 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:40,512 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:40,513 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:04:40,513 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:04:40,529 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 9 with retention: 0.5770618024783734
2025-08-26 17:04:40,529 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:04:40,529 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:40,541 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [69, np.int64(64)]
2025-08-26 17:04:40,542 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 64 to listener 69: 'str' object has no attribute 'items'
2025-08-26 17:04:40,542 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=64, listeners=[69, 70, 66]): Failed to tell myth from speaker 64 to listener 69: 'str' object has no attribute 'items'
2025-08-26 17:04:40,542 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=64, listeners=[69, 70, 66]): Failed to tell myth from speaker 64 to listener 69: 'str' object has no attribute 'items'
2025-08-26 17:04:40,542 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=64, listeners=[66, 67, 65])
2025-08-26 17:04:40,542 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=64, listeners=[66, 67, 65])
2025-08-26 17:04:40,542 - mythologizer_core.epoch - DEBUG - Speaker 64 values shape: (3,)
2025-08-26 17:04:40,542 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:40,542 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 64 to listener 66
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 64 -> listener 66
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:40,542 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:40,543 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:40,543 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:40,543 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:04:40,544 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:04:40,559 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,559 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:04:40,560 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:04:40,576 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,576 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:40,576 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [1, 12, 9]
2025-08-26 17:04:40,576 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [7, 24, 11]
2025-08-26 17:04:40,576 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:40,576 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:40,576 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:40,577 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:04:40,577 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:04:40,591 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 1 with retention: 0.4953871224039522
2025-08-26 17:04:40,591 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:04:40,591 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:40,603 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [66, np.int64(64)]
2025-08-26 17:04:40,603 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 64 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:40,603 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=64, listeners=[66, 67, 65]): Failed to tell myth from speaker 64 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:40,603 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=64, listeners=[66, 67, 65]): Failed to tell myth from speaker 64 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:40,603 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=63, listeners=[70, 69, 65])
2025-08-26 17:04:40,604 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=63, listeners=[70, 69, 65])
2025-08-26 17:04:40,604 - mythologizer_core.epoch - DEBUG - Speaker 63 values shape: (3,)
2025-08-26 17:04:40,604 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:40,604 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 63 to listener 70
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 63 -> listener 70
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:40,604 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 63
2025-08-26 17:04:40,605 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 63 has 3 myths
2025-08-26 17:04:40,620 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,621 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:04:40,622 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:04:40,636 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [19, 17, 13]
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [3, 20, 15]
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:04:40,637 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:04:40,652 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 13 with retention: 0.4901859005954077
2025-08-26 17:04:40,652 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 4 mythemes
2025-08-26 17:04:40,652 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:40,664 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [70, np.int64(63)]
2025-08-26 17:04:40,665 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 63 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:40,665 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=63, listeners=[70, 69, 65]): Failed to tell myth from speaker 63 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:40,665 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=63, listeners=[70, 69, 65]): Failed to tell myth from speaker 63 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:40,665 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=69, listeners=[63, 70, 66])
2025-08-26 17:04:40,665 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=69, listeners=[63, 70, 66])
2025-08-26 17:04:40,665 - mythologizer_core.epoch - DEBUG - Speaker 69 values shape: (3,)
2025-08-26 17:04:40,665 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:40,665 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 69 to listener 63
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 69 -> listener 63
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:40,665 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:40,666 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 69
2025-08-26 17:04:40,667 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 69 has 3 myths
2025-08-26 17:04:40,681 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,681 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 63
2025-08-26 17:04:40,682 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 63 has 3 myths
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [5, 22, 30]
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [19, 17, 13]
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:40,698 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:04:40,699 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:04:40,713 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 5 with retention: 0.9378316105323483
2025-08-26 17:04:40,713 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:04:40,713 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:40,726 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [63, np.int64(69)]
2025-08-26 17:04:40,726 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 69 to listener 63: 'str' object has no attribute 'items'
2025-08-26 17:04:40,726 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=69, listeners=[63, 70, 66]): Failed to tell myth from speaker 69 to listener 63: 'str' object has no attribute 'items'
2025-08-26 17:04:40,727 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=69, listeners=[63, 70, 66]): Failed to tell myth from speaker 69 to listener 63: 'str' object has no attribute 'items'
2025-08-26 17:04:40,727 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 17:04:40,727 - __main__ - INFO - Epoch completed successfully!
2025-08-26 17:04:40,727 - __main__ - INFO - Test 'single_epoch' completed successfully!
2025-08-26 17:04:42,874 - __main__ - INFO - Running single test: single_epoch
2025-08-26 17:04:42,875 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 17:04:42,875 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 17:04:45,937 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 17:04:45,937 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x7ae6407e8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x7ae6407e84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 17:04:45,937 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 17:04:45,937 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 17:04:45,964 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 17:04:45,964 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 17:04:45,965 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 17:04:46,150 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:46,155 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:46,284 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:46,289 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:46,419 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:46,423 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:46,553 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 17:04:46,558 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 17:04:46,672 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:46,677 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:46,806 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 17:04:46,811 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 17:04:46,941 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 17:04:47,074 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 17:04:47,079 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 17:04:47,242 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 17:04:47,247 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 17:04:47,370 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 17:04:47,515 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 17:04:47,520 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 17:04:47,642 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 17:04:47,813 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 17:04:47,813 - __main__ - INFO - ==================================================
2025-08-26 17:04:47,813 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 17:04:47,813 - __main__ - INFO - ==================================================
2025-08-26 17:04:47,814 - __main__ - INFO - Running epoch with parameters:
2025-08-26 17:04:47,814 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 17:04:47,814 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 17:04:47,814 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 17:04:47,814 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 17:04:47,814 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 17:04:47,814 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 17:04:47,941 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 17:04:47,946 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 17:04:47,950 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 17:04:47,950 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 17:04:47,951 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 17:04:47,951 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 17:04:47,951 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 17:04:47,951 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 17:04:47,967 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 17:04:47,967 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 17:04:47,967 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 17:04:47,967 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 17:04:47,967 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 17:04:47,967 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 17:04:47,967 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 17:04:47,967 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 17:04:47,968 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 17:04:47,968 - mythologizer_core.epoch - DEBUG - Values changed for Age: [73. 18. 82. 35. 91.] -> [74. 19. 83. 36. 92.]
2025-08-26 17:04:47,968 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 17:04:47,968 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 17:04:47,968 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 17:04:47,968 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 17:04:47,968 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 17:04:47,968 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [1. 1. 1. 1. 1.] -> [1. 1. 1. 1. 1.]
2025-08-26 17:04:47,968 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 17:04:47,984 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 17:04:47,984 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 17:04:47,984 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 17:04:47,984 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 17:04:48,022 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 17:04:48,022 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 17:04:48,022 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 17:04:48,037 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 17:04:48,042 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 17:04:48,047 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 17:04:48,051 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 17:04:48,056 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 17:04:48,061 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 17:04:48,066 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 17:04:48,071 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 17:04:48,075 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 17:04:48,080 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 17:04:48,085 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 17:04:48,085 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 17:04:48,085 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 17:04:48,085 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 17:04:48,085 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 17:04:48,085 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=68, listeners=[70, 63, 71])
2025-08-26 17:04:48,085 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=69, listeners=[70, 68, 64])
2025-08-26 17:04:48,085 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=70, listeners=[66, 68, 63])
2025-08-26 17:04:48,086 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=70, listeners=[65, 66, 64])
2025-08-26 17:04:48,086 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 17:04:48,086 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 17:04:48,086 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=68, listeners=[70, 63, 71])
2025-08-26 17:04:48,086 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=68, listeners=[70, 63, 71])
2025-08-26 17:04:48,086 - mythologizer_core.epoch - DEBUG - Speaker 68 values shape: (3,)
2025-08-26 17:04:48,086 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:48,086 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 68 to listener 70
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 68 -> listener 70
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:48,086 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 68
2025-08-26 17:04:48,088 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 68 has 3 myths
2025-08-26 17:04:48,104 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,104 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:04:48,105 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:04:48,120 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,120 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:48,120 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [10, 14, 8]
2025-08-26 17:04:48,120 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [3, 20, 15]
2025-08-26 17:04:48,121 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:48,121 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:48,121 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:48,121 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:04:48,121 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:04:48,137 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 8 with retention: 0.24949600192062163
2025-08-26 17:04:48,137 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:04:48,137 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:48,149 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [70, np.int64(68)]
2025-08-26 17:04:48,149 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 68 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:48,149 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=68, listeners=[70, 63, 71]): Failed to tell myth from speaker 68 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:48,149 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=68, listeners=[70, 63, 71]): Failed to tell myth from speaker 68 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:48,150 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=69, listeners=[70, 68, 64])
2025-08-26 17:04:48,150 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=69, listeners=[70, 68, 64])
2025-08-26 17:04:48,150 - mythologizer_core.epoch - DEBUG - Speaker 69 values shape: (3,)
2025-08-26 17:04:48,150 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:48,150 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 69 to listener 70
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 69 -> listener 70
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:48,150 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 69
2025-08-26 17:04:48,151 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 69 has 3 myths
2025-08-26 17:04:48,167 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,167 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:04:48,168 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:04:48,183 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,183 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:48,184 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [5, 22, 30]
2025-08-26 17:04:48,184 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [3, 20, 15]
2025-08-26 17:04:48,184 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:48,184 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:48,184 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 1 (raw value 2) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:48,184 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 1 using sample function
2025-08-26 17:04:48,184 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 1
2025-08-26 17:04:48,199 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 22 with retention: 0.15236373137756642
2025-08-26 17:04:48,199 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:04:48,199 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:48,212 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [70, np.int64(69)]
2025-08-26 17:04:48,212 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 69 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:48,212 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=69, listeners=[70, 68, 64]): Failed to tell myth from speaker 69 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:48,212 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=69, listeners=[70, 68, 64]): Failed to tell myth from speaker 69 to listener 70: 'str' object has no attribute 'items'
2025-08-26 17:04:48,212 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=70, listeners=[66, 68, 63])
2025-08-26 17:04:48,212 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=70, listeners=[66, 68, 63])
2025-08-26 17:04:48,212 - mythologizer_core.epoch - DEBUG - Speaker 70 values shape: (3,)
2025-08-26 17:04:48,212 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:48,212 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 70 to listener 66
2025-08-26 17:04:48,212 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 70 -> listener 66
2025-08-26 17:04:48,212 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:48,212 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:48,212 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:48,212 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:48,213 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:48,213 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:48,213 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:48,213 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:48,213 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:48,213 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:48,213 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:04:48,214 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:04:48,229 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,229 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:04:48,230 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:04:48,245 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,245 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:48,245 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [3, 20, 15]
2025-08-26 17:04:48,246 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [7, 24, 11]
2025-08-26 17:04:48,246 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:48,246 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:48,246 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:48,246 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:04:48,246 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:04:48,261 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 3 with retention: 0.5179131991924327
2025-08-26 17:04:48,261 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:04:48,261 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:48,273 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [66, np.int64(70)]
2025-08-26 17:04:48,273 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 70 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:48,273 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=70, listeners=[66, 68, 63]): Failed to tell myth from speaker 70 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:48,273 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=70, listeners=[66, 68, 63]): Failed to tell myth from speaker 70 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:48,274 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=70, listeners=[65, 66, 64])
2025-08-26 17:04:48,274 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=70, listeners=[65, 66, 64])
2025-08-26 17:04:48,274 - mythologizer_core.epoch - DEBUG - Speaker 70 values shape: (3,)
2025-08-26 17:04:48,274 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:48,274 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 70 to listener 65
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 70 -> listener 65
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:48,274 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:04:48,275 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:04:48,291 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,291 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 65
2025-08-26 17:04:48,292 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 65 has 3 myths
2025-08-26 17:04:48,308 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:48,308 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:48,308 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [3, 20, 15]
2025-08-26 17:04:48,308 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [26, 6, 2]
2025-08-26 17:04:48,308 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:48,308 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:48,309 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:48,309 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:04:48,309 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:04:48,324 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 3 with retention: 0.5179131991924327
2025-08-26 17:04:48,324 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:04:48,324 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:48,336 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [65, np.int64(70)]
2025-08-26 17:04:48,336 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 70 to listener 65: 'str' object has no attribute 'items'
2025-08-26 17:04:48,336 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=70, listeners=[65, 66, 64]): Failed to tell myth from speaker 70 to listener 65: 'str' object has no attribute 'items'
2025-08-26 17:04:48,336 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=70, listeners=[65, 66, 64]): Failed to tell myth from speaker 70 to listener 65: 'str' object has no attribute 'items'
2025-08-26 17:04:48,336 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 17:04:48,336 - __main__ - INFO - Epoch completed successfully!
2025-08-26 17:04:48,336 - __main__ - INFO - Test 'single_epoch' completed successfully!
2025-08-26 17:04:51,622 - __main__ - INFO - Running single test: single_epoch
2025-08-26 17:04:51,622 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 17:04:51,622 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 17:04:54,693 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 17:04:54,693 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x73da774e8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x73da774e84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 17:04:54,693 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 17:04:54,693 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 17:04:54,720 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 17:04:54,720 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 17:04:54,721 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 17:04:54,887 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:54,895 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:55,023 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:55,028 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:55,142 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:04:55,147 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:04:55,264 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 17:04:55,269 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 17:04:55,384 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:04:55,389 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:04:55,504 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 17:04:55,508 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 17:04:55,625 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 17:04:55,743 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 17:04:55,748 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 17:04:55,911 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 17:04:55,916 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 17:04:56,037 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 17:04:56,179 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 17:04:56,184 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 17:04:56,304 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 17:04:56,479 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 17:04:56,479 - __main__ - INFO - ==================================================
2025-08-26 17:04:56,479 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 17:04:56,479 - __main__ - INFO - ==================================================
2025-08-26 17:04:56,480 - __main__ - INFO - Running epoch with parameters:
2025-08-26 17:04:56,480 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 17:04:56,480 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 17:04:56,480 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 17:04:56,480 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 17:04:56,481 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 17:04:56,481 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 17:04:56,605 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 17:04:56,610 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 17:04:56,615 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 17:04:56,615 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 17:04:56,615 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 17:04:56,615 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 17:04:56,615 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 17:04:56,615 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 17:04:56,632 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 17:04:56,632 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 17:04:56,632 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 17:04:56,632 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 17:04:56,632 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 17:04:56,632 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 17:04:56,633 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Values changed for Age: [74. 19. 83. 36. 92.] -> [75. 20. 84. 37. 93.]
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 17:04:56,633 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 17:04:56,633 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [1. 1. 1. 1. 1.] -> [1. 1. 1. 1. 1.]
2025-08-26 17:04:56,634 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 17:04:56,648 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 17:04:56,649 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 17:04:56,649 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 17:04:56,649 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 17:04:56,686 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 17:04:56,686 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 17:04:56,686 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 17:04:56,701 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 17:04:56,707 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 17:04:56,711 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 17:04:56,716 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 17:04:56,721 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 17:04:56,726 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 17:04:56,732 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 17:04:56,737 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 17:04:56,742 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 17:04:56,747 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 17:04:56,752 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 17:04:56,752 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 17:04:56,752 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 17:04:56,752 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 17:04:56,752 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 17:04:56,752 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=62, listeners=[67, 71, 69])
2025-08-26 17:04:56,752 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=66, listeners=[68, 71, 67])
2025-08-26 17:04:56,753 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=62, listeners=[66, 69, 67])
2025-08-26 17:04:56,753 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=70, listeners=[63, 62, 65])
2025-08-26 17:04:56,753 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 17:04:56,753 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 17:04:56,753 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=62, listeners=[67, 71, 69])
2025-08-26 17:04:56,753 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=62, listeners=[67, 71, 69])
2025-08-26 17:04:56,753 - mythologizer_core.epoch - DEBUG - Speaker 62 values shape: (3,)
2025-08-26 17:04:56,753 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:56,753 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 62 to listener 67
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 62 -> listener 67
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:56,753 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 62
2025-08-26 17:04:56,755 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 62 has 3 myths
2025-08-26 17:04:56,772 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,772 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 67
2025-08-26 17:04:56,773 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 67 has 3 myths
2025-08-26 17:04:56,789 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,789 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:56,789 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [21, 18, 28]
2025-08-26 17:04:56,789 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [25, 29, 23]
2025-08-26 17:04:56,789 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:56,789 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:56,789 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 1 (raw value 2) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:56,790 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 1 using sample function
2025-08-26 17:04:56,790 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 1
2025-08-26 17:04:56,805 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 18 with retention: 0.6350567666791856
2025-08-26 17:04:56,805 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:04:56,805 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:56,817 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [67, np.int64(62)]
2025-08-26 17:04:56,818 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 62 to listener 67: 'str' object has no attribute 'items'
2025-08-26 17:04:56,818 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=62, listeners=[67, 71, 69]): Failed to tell myth from speaker 62 to listener 67: 'str' object has no attribute 'items'
2025-08-26 17:04:56,818 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=62, listeners=[67, 71, 69]): Failed to tell myth from speaker 62 to listener 67: 'str' object has no attribute 'items'
2025-08-26 17:04:56,818 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=66, listeners=[68, 71, 67])
2025-08-26 17:04:56,818 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=66, listeners=[68, 71, 67])
2025-08-26 17:04:56,818 - mythologizer_core.epoch - DEBUG - Speaker 66 values shape: (3,)
2025-08-26 17:04:56,818 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:56,818 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 66 to listener 68
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 66 -> listener 68
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:56,818 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:04:56,820 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:04:56,835 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,835 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 68
2025-08-26 17:04:56,837 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 68 has 3 myths
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [7, 24, 11]
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [10, 14, 8]
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:56,852 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:04:56,853 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:04:56,868 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 7 with retention: 0.757567537556719
2025-08-26 17:04:56,868 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 4 mythemes
2025-08-26 17:04:56,868 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:56,881 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [68, np.int64(66)]
2025-08-26 17:04:56,881 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 66 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:04:56,881 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=66, listeners=[68, 71, 67]): Failed to tell myth from speaker 66 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:04:56,881 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=66, listeners=[68, 71, 67]): Failed to tell myth from speaker 66 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:04:56,881 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=62, listeners=[66, 69, 67])
2025-08-26 17:04:56,881 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=62, listeners=[66, 69, 67])
2025-08-26 17:04:56,881 - mythologizer_core.epoch - DEBUG - Speaker 62 values shape: (3,)
2025-08-26 17:04:56,881 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:56,881 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 62 to listener 66
2025-08-26 17:04:56,881 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 62 -> listener 66
2025-08-26 17:04:56,881 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:56,881 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:56,882 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 62
2025-08-26 17:04:56,883 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 62 has 3 myths
2025-08-26 17:04:56,899 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,899 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:04:56,900 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:04:56,915 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,915 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:56,915 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [21, 18, 28]
2025-08-26 17:04:56,916 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [7, 24, 11]
2025-08-26 17:04:56,916 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:56,916 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:56,916 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 1 (raw value 2) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:56,916 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 1 using sample function
2025-08-26 17:04:56,916 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 1
2025-08-26 17:04:56,930 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 18 with retention: 0.6350567666791856
2025-08-26 17:04:56,930 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:04:56,930 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [66, np.int64(62)]
2025-08-26 17:04:56,943 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 62 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:56,943 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=62, listeners=[66, 69, 67]): Failed to tell myth from speaker 62 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:56,943 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=62, listeners=[66, 69, 67]): Failed to tell myth from speaker 62 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:04:56,943 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=70, listeners=[63, 62, 65])
2025-08-26 17:04:56,943 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=70, listeners=[63, 62, 65])
2025-08-26 17:04:56,943 - mythologizer_core.epoch - DEBUG - Speaker 70 values shape: (3,)
2025-08-26 17:04:56,943 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:04:56,943 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 70 to listener 63
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 70 -> listener 63
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:04:56,943 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 70
2025-08-26 17:04:56,945 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 70 has 3 myths
2025-08-26 17:04:56,960 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,960 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 63
2025-08-26 17:04:56,961 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 63 has 3 myths
2025-08-26 17:04:56,976 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [3, 20, 15]
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [19, 17, 13]
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:04:56,977 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:04:56,991 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 15 with retention: 0.9330278887616212
2025-08-26 17:04:56,991 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:04:56,991 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:04:57,004 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [63, np.int64(70)]
2025-08-26 17:04:57,005 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 70 to listener 63: 'str' object has no attribute 'items'
2025-08-26 17:04:57,005 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=70, listeners=[63, 62, 65]): Failed to tell myth from speaker 70 to listener 63: 'str' object has no attribute 'items'
2025-08-26 17:04:57,005 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=70, listeners=[63, 62, 65]): Failed to tell myth from speaker 70 to listener 63: 'str' object has no attribute 'items'
2025-08-26 17:04:57,005 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 17:04:57,005 - __main__ - INFO - Epoch completed successfully!
2025-08-26 17:04:57,005 - __main__ - INFO - Test 'single_epoch' completed successfully!
2025-08-26 17:05:01,294 - __main__ - INFO - Running single test: single_epoch
2025-08-26 17:05:01,295 - __main__ - INFO - Loading agent attributes from: agent_attributes.py
2025-08-26 17:05:01,295 - __main__ - INFO - Agent attributes file exists: agent_attributes.py
2025-08-26 17:05:04,333 - __main__ - INFO - Loaded 3 agent attributes
2025-08-26 17:05:04,333 - __main__ - DEBUG - Agent attributes: [AgentAttribute(name='Age', description='Age of the agent', d_type=<class 'int'>, min=0, max=None, epoch_change_function=<function <lambda> at 0x712e2ace8360>), AgentAttribute(name='Confidence', description='The confidence of the agent', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=<function <lambda> at 0x712e2ace84a0>), AgentAttribute(name='Emotionality', description='The emotionality of the agent with 0 representing a very emotionless person and 1 representing a very emotional person', d_type=<class 'float'>, min=0.0, max=1.0, epoch_change_function=None)]
2025-08-26 17:05:04,333 - __main__ - INFO - Creating embedding function from model: all-MiniLM-L6-v2
2025-08-26 17:05:04,333 - mythologizer_core.utils.embedding_utils - INFO - Creating SentenceTransformer from string: all-MiniLM-L6-v2
2025-08-26 17:05:04,360 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cuda:0
2025-08-26 17:05:04,360 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-08-26 17:05:04,361 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): huggingface.co:443
2025-08-26 17:05:04,528 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:05:04,540 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:05:04,668 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:05:04,673 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:05:04,788 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config_sentence_transformers.json HTTP/1.1" 307 0
2025-08-26 17:05:04,793 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config_sentence_transformers.json HTTP/1.1" 200 0
2025-08-26 17:05:04,927 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/README.md HTTP/1.1" 307 0
2025-08-26 17:05:04,932 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/README.md HTTP/1.1" 200 0
2025-08-26 17:05:05,060 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/modules.json HTTP/1.1" 307 0
2025-08-26 17:05:05,065 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/modules.json HTTP/1.1" 200 0
2025-08-26 17:05:05,197 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/sentence_bert_config.json HTTP/1.1" 307 0
2025-08-26 17:05:05,205 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/sentence_bert_config.json HTTP/1.1" 200 0
2025-08-26 17:05:05,320 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/adapter_config.json HTTP/1.1" 404 0
2025-08-26 17:05:05,437 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/config.json HTTP/1.1" 307 0
2025-08-26 17:05:05,442 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/config.json HTTP/1.1" 200 0
2025-08-26 17:05:05,631 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/tokenizer_config.json HTTP/1.1" 307 0
2025-08-26 17:05:05,637 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/tokenizer_config.json HTTP/1.1" 200 0
2025-08-26 17:05:05,774 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False HTTP/1.1" 404 64
2025-08-26 17:05:05,920 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /sentence-transformers/all-MiniLM-L6-v2/resolve/main/1_Pooling/config.json HTTP/1.1" 307 0
2025-08-26 17:05:05,926 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "HEAD /api/resolve-cache/models/sentence-transformers/all-MiniLM-L6-v2/c9745ed1d9f207416be6d2e6f8de32d1f16199bf/1_Pooling%2Fconfig.json HTTP/1.1" 200 0
2025-08-26 17:05:06,047 - urllib3.connectionpool - DEBUG - https://huggingface.co:443 "GET /api/models/sentence-transformers/all-MiniLM-L6-v2 HTTP/1.1" 200 6861
2025-08-26 17:05:06,221 - __main__ - INFO - Successfully created embedding function: <class 'sentence_transformers.SentenceTransformer.SentenceTransformer'>
2025-08-26 17:05:06,222 - __main__ - INFO - ==================================================
2025-08-26 17:05:06,222 - __main__ - INFO - STEP 5: Testing epoch function
2025-08-26 17:05:06,222 - __main__ - INFO - ==================================================
2025-08-26 17:05:06,223 - __main__ - INFO - Running epoch with parameters:
2025-08-26 17:05:06,223 - __main__ - INFO -   - Number of interactions: 4
2025-08-26 17:05:06,223 - __main__ - INFO -   - Max listeners per interaction: 3
2025-08-26 17:05:06,223 - __main__ - INFO -   - Number of agent attributes: 3
2025-08-26 17:05:06,223 - mythologizer_core.epoch - INFO - Starting epoch execution
2025-08-26 17:05:06,223 - mythologizer_core.epoch - INFO - Parameters: 3 attributes, 4 interactions, max 3 listeners
2025-08-26 17:05:06,223 - mythologizer_core.epoch - INFO - Creating attribute name embeddings...
2025-08-26 17:05:06,346 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Age
2025-08-26 17:05:06,351 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Confidence
2025-08-26 17:05:06,356 - mythologizer_core.epoch - DEBUG - Created embedding for attribute: Emotionality
2025-08-26 17:05:06,356 - mythologizer_core.epoch - INFO - Created embeddings for 3 attributes
2025-08-26 17:05:06,356 - mythologizer_core.epoch - INFO - Processing agent attributes...
2025-08-26 17:05:06,356 - mythologizer_core.epoch - INFO - Starting agent attribute epoch processing
2025-08-26 17:05:06,356 - mythologizer_core.epoch - DEBUG - Processing 3 agent attributes
2025-08-26 17:05:06,356 - mythologizer_core.epoch - DEBUG - Retrieving agent attribute matrix from database...
2025-08-26 17:05:06,372 - mythologizer_core.epoch - INFO - Successfully retrieved agent attribute matrix with 10 agents and 3 attributes
2025-08-26 17:05:06,372 - mythologizer_core.epoch - DEBUG - Matrix shape: (10, 3)
2025-08-26 17:05:06,372 - mythologizer_core.epoch - DEBUG - Agent indices: [62, 63, 64, 65, 66, 67, 68, 69, 70, 71]
2025-08-26 17:05:06,372 - mythologizer_core.epoch - DEBUG - Attribute names: ['Age', 'Confidence', 'Emotionality']
2025-08-26 17:05:06,372 - mythologizer_core.epoch - INFO - Found 2 attributes with epoch functions
2025-08-26 17:05:06,372 - mythologizer_core.epoch - DEBUG - Processing attribute: Age
2025-08-26 17:05:06,372 - mythologizer_core.epoch - DEBUG - Attribute 'Age' found at column index 0
2025-08-26 17:05:06,372 - mythologizer_core.epoch - DEBUG - Applied min constraint 0 to Age
2025-08-26 17:05:06,372 - mythologizer_core.epoch - INFO - Epoch function applied to 'Age'
2025-08-26 17:05:06,373 - mythologizer_core.epoch - DEBUG - Values changed for Age: [75. 20. 84. 37. 93.] -> [76. 21. 85. 38. 94.]
2025-08-26 17:05:06,373 - mythologizer_core.epoch - DEBUG - Processing attribute: Confidence
2025-08-26 17:05:06,373 - mythologizer_core.epoch - DEBUG - Attribute 'Confidence' found at column index 1
2025-08-26 17:05:06,373 - mythologizer_core.epoch - DEBUG - Applied min constraint 0.0 to Confidence
2025-08-26 17:05:06,373 - mythologizer_core.epoch - DEBUG - Applied max constraint 1.0 to Confidence
2025-08-26 17:05:06,373 - mythologizer_core.epoch - INFO - Epoch function applied to 'Confidence'
2025-08-26 17:05:06,373 - mythologizer_core.epoch - DEBUG - Values changed for Confidence: [1. 1. 1. 1. 1.] -> [1. 1. 1. 1. 1.]
2025-08-26 17:05:06,373 - mythologizer_core.epoch - DEBUG - Updating agent attribute matrix in database...
2025-08-26 17:05:06,388 - mythologizer_core.epoch - INFO - Successfully updated agent attribute matrix for 10 agents
2025-08-26 17:05:06,388 - mythologizer_core.epoch - INFO - Agent attribute epoch processing completed successfully
2025-08-26 17:05:06,388 - mythologizer_core.epoch - INFO - Retrieving cultures and creating embeddings...
2025-08-26 17:05:06,388 - mythologizer_core.epoch - DEBUG - Retrieving all cultures from database...
2025-08-26 17:05:06,426 - mythologizer_core.epoch - INFO - Successfully retrieved 11 cultures
2025-08-26 17:05:06,426 - mythologizer_core.epoch - DEBUG - Culture IDs: [3, 9, 10, 4, 8, 7, 6, 2, 1, 11, 5]
2025-08-26 17:05:06,426 - mythologizer_core.epoch - DEBUG - Creating culture embedding dictionary...
2025-08-26 17:05:06,441 - mythologizer_core.epoch - DEBUG - Created embedding for culture 3 (Art Students)
2025-08-26 17:05:06,445 - mythologizer_core.epoch - DEBUG - Created embedding for culture 9 (Cowboys)
2025-08-26 17:05:06,450 - mythologizer_core.epoch - DEBUG - Created embedding for culture 10 (Drag Queens)
2025-08-26 17:05:06,455 - mythologizer_core.epoch - DEBUG - Created embedding for culture 4 (Knights)
2025-08-26 17:05:06,460 - mythologizer_core.epoch - DEBUG - Created embedding for culture 8 (Monks)
2025-08-26 17:05:06,465 - mythologizer_core.epoch - DEBUG - Created embedding for culture 7 (Ravers)
2025-08-26 17:05:06,470 - mythologizer_core.epoch - DEBUG - Created embedding for culture 6 (Samurai)
2025-08-26 17:05:06,475 - mythologizer_core.epoch - DEBUG - Created embedding for culture 2 (Skaters)
2025-08-26 17:05:06,480 - mythologizer_core.epoch - DEBUG - Created embedding for culture 1 (Startup Bros)
2025-08-26 17:05:06,485 - mythologizer_core.epoch - DEBUG - Created embedding for culture 11 (Witches)
2025-08-26 17:05:06,490 - mythologizer_core.epoch - DEBUG - Created embedding for culture 5 (Wizards)
2025-08-26 17:05:06,490 - mythologizer_core.epoch - INFO - Created embeddings for 11 cultures
2025-08-26 17:05:06,490 - mythologizer_core.epoch - INFO - Generating interactions...
2025-08-26 17:05:06,490 - mythologizer_core.epoch - INFO - Generating 4 random interactions
2025-08-26 17:05:06,490 - mythologizer_core.epoch - DEBUG - Available agents: 10, Max listeners: 3
2025-08-26 17:05:06,490 - mythologizer_core.epoch - DEBUG - Generated interaction 1: Interaction(speaker=64, listeners=[68, 63, 71])
2025-08-26 17:05:06,491 - mythologizer_core.epoch - DEBUG - Generated interaction 2: Interaction(speaker=71, listeners=[64, 62, 69])
2025-08-26 17:05:06,491 - mythologizer_core.epoch - DEBUG - Generated interaction 3: Interaction(speaker=68, listeners=[66, 64, 65])
2025-08-26 17:05:06,491 - mythologizer_core.epoch - DEBUG - Generated interaction 4: Interaction(speaker=63, listeners=[66, 67, 68])
2025-08-26 17:05:06,491 - mythologizer_core.epoch - INFO - Successfully generated 4 interactions
2025-08-26 17:05:06,491 - mythologizer_core.epoch - INFO - Processing 4 interactions...
2025-08-26 17:05:06,491 - mythologizer_core.epoch - INFO - Processing interaction 1/4: Interaction(speaker=64, listeners=[68, 63, 71])
2025-08-26 17:05:06,491 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=64, listeners=[68, 63, 71])
2025-08-26 17:05:06,491 - mythologizer_core.epoch - DEBUG - Speaker 64 values shape: (3,)
2025-08-26 17:05:06,491 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:05:06,491 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 64 to listener 68
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 64 -> listener 68
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:05:06,491 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:05:06,492 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:05:06,492 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:05:06,492 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:05:06,492 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:05:06,493 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:05:06,510 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,510 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 68
2025-08-26 17:05:06,511 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 68 has 3 myths
2025-08-26 17:05:06,526 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,526 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:05:06,526 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [1, 12, 9]
2025-08-26 17:05:06,526 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [10, 14, 8]
2025-08-26 17:05:06,526 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:05:06,526 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:05:06,526 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:05:06,527 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:05:06,527 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:05:06,543 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 9 with retention: 0.5770618024783734
2025-08-26 17:05:06,543 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:05:06,543 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:05:06,556 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [68, np.int64(64)]
2025-08-26 17:05:06,556 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 64 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:05:06,557 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=64, listeners=[68, 63, 71]): Failed to tell myth from speaker 64 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:05:06,557 - mythologizer_core.epoch - ERROR - Failed to process interaction 1: Failed to process interaction Interaction(speaker=64, listeners=[68, 63, 71]): Failed to tell myth from speaker 64 to listener 68: 'str' object has no attribute 'items'
2025-08-26 17:05:06,557 - mythologizer_core.epoch - INFO - Processing interaction 2/4: Interaction(speaker=71, listeners=[64, 62, 69])
2025-08-26 17:05:06,557 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=71, listeners=[64, 62, 69])
2025-08-26 17:05:06,557 - mythologizer_core.epoch - DEBUG - Speaker 71 values shape: (3,)
2025-08-26 17:05:06,557 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:05:06,557 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 71 to listener 64
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 71 -> listener 64
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:05:06,557 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 71
2025-08-26 17:05:06,558 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 71 has 3 myths
2025-08-26 17:05:06,573 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,573 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 64
2025-08-26 17:05:06,574 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 64 has 3 myths
2025-08-26 17:05:06,590 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,590 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:05:06,590 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [4, 27, 16]
2025-08-26 17:05:06,590 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [1, 12, 9]
2025-08-26 17:05:06,590 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:05:06,590 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:05:06,590 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:05:06,591 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:05:06,591 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:05:06,605 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 4 with retention: 0.8956213687326311
2025-08-26 17:05:06,605 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 2 mythemes
2025-08-26 17:05:06,606 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:05:06,618 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [64, np.int64(71)]
2025-08-26 17:05:06,618 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 71 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:05:06,618 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=71, listeners=[64, 62, 69]): Failed to tell myth from speaker 71 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:05:06,618 - mythologizer_core.epoch - ERROR - Failed to process interaction 2: Failed to process interaction Interaction(speaker=71, listeners=[64, 62, 69]): Failed to tell myth from speaker 71 to listener 64: 'str' object has no attribute 'items'
2025-08-26 17:05:06,618 - mythologizer_core.epoch - INFO - Processing interaction 3/4: Interaction(speaker=68, listeners=[66, 64, 65])
2025-08-26 17:05:06,618 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=68, listeners=[66, 64, 65])
2025-08-26 17:05:06,618 - mythologizer_core.epoch - DEBUG - Speaker 68 values shape: (3,)
2025-08-26 17:05:06,618 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:05:06,618 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 68 to listener 66
2025-08-26 17:05:06,618 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 68 -> listener 66
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:05:06,619 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 68
2025-08-26 17:05:06,620 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 68 has 3 myths
2025-08-26 17:05:06,635 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,635 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:05:06,636 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [10, 14, 8]
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [7, 24, 11]
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 2 (raw value 3) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 2 using sample function
2025-08-26 17:05:06,652 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 2
2025-08-26 17:05:06,667 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 8 with retention: 0.24949600192062163
2025-08-26 17:05:06,667 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:05:06,667 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [66, np.int64(68)]
2025-08-26 17:05:06,680 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 68 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:05:06,680 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=68, listeners=[66, 64, 65]): Failed to tell myth from speaker 68 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:05:06,680 - mythologizer_core.epoch - ERROR - Failed to process interaction 3: Failed to process interaction Interaction(speaker=68, listeners=[66, 64, 65]): Failed to tell myth from speaker 68 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:05:06,680 - mythologizer_core.epoch - INFO - Processing interaction 4/4: Interaction(speaker=63, listeners=[66, 67, 68])
2025-08-26 17:05:06,680 - mythologizer_core.epoch - DEBUG - Processing interaction: Interaction(speaker=63, listeners=[66, 67, 68])
2025-08-26 17:05:06,680 - mythologizer_core.epoch - DEBUG - Speaker 63 values shape: (3,)
2025-08-26 17:05:06,680 - mythologizer_core.epoch - DEBUG - Listeners values shape: (3, 3)
2025-08-26 17:05:06,680 - mythologizer_core.epoch - DEBUG - Telling myth from speaker 63 to listener 66
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - INFO - Starting myth exchange: speaker 63 -> listener 66
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event embedding provided: False
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Event weight: 0.0, Culture weight: 0.0
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Attribute embeddings weight: 1.0
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - New myth threshold: 0.5
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retention factors - remember: 0.1, forget: 0.05
2025-08-26 17:05:06,680 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating input parameters...
2025-08-26 17:05:06,681 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Validating parameter lengths - attributes: 3, listener: 3, speaker: 3
2025-08-26 17:05:06,681 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Parameter validation passed
2025-08-26 17:05:06,681 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Input parameters validated successfully
2025-08-26 17:05:06,681 - mythologizer_core.myth_exchange.myth_exchange - INFO - Retrieving myths from both agents' memories...
2025-08-26 17:05:06,681 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 63
2025-08-26 17:05:06,682 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 63 has 3 myths
2025-08-26 17:05:06,697 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,697 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieving myths for agent 66
2025-08-26 17:05:06,698 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Agent 66 has 3 myths
2025-08-26 17:05:06,714 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved embeddings for 3 myths
2025-08-26 17:05:06,714 - mythologizer_core.myth_exchange.myth_exchange - INFO - Speaker has 3 myths, Listener has 3 myths
2025-08-26 17:05:06,714 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth IDs: [19, 17, 13]
2025-08-26 17:05:06,715 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Listener myth IDs: [7, 24, 11]
2025-08-26 17:05:06,715 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selecting most appropriate myth from speaker's memory...
2025-08-26 17:05:06,715 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - No event provided, using sample function
2025-08-26 17:05:06,715 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - standard_remember_function: Selected index 0 (raw value 1) with probabilities: [0.44756024 0.28414331 0.26829645]
2025-08-26 17:05:06,715 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Selected myth at index 0 using sample function
2025-08-26 17:05:06,715 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth at index 0
2025-08-26 17:05:06,730 - mythologizer_core.myth_exchange.myth_exchange - INFO - Selected speaker myth ID: 19 with retention: 0.6212787283749089
2025-08-26 17:05:06,731 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Speaker myth has 3 mythemes
2025-08-26 17:05:06,731 - mythologizer_core.myth_exchange.myth_exchange - INFO - Calculating cultural influence offsets...
2025-08-26 17:05:06,743 - mythologizer_core.myth_exchange.myth_exchange - DEBUG - Retrieved cultures for agents [66, np.int64(63)]
2025-08-26 17:05:06,743 - mythologizer_core.epoch - ERROR - Failed to tell myth from speaker 63 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:05:06,743 - mythologizer_core.epoch - ERROR - Failed to process interaction Interaction(speaker=63, listeners=[66, 67, 68]): Failed to tell myth from speaker 63 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:05:06,743 - mythologizer_core.epoch - ERROR - Failed to process interaction 4: Failed to process interaction Interaction(speaker=63, listeners=[66, 67, 68]): Failed to tell myth from speaker 63 to listener 66: 'str' object has no attribute 'items'
2025-08-26 17:05:06,743 - mythologizer_core.epoch - INFO - Epoch completed: 0/4 interactions successful
2025-08-26 17:05:06,743 - __main__ - INFO - Epoch completed successfully!
2025-08-26 17:05:06,743 - __main__ - INFO - Test 'single_epoch' completed successfully!
